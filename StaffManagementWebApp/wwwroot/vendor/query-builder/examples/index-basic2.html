<html><head>
    <style>
        
    </style>
    
</head>
<body data-new-gr-c-s-check-loaded="14.1142.0" data-gr-ext-installed="">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<link href="https://querybuilder.js.org/assets/css/style.css" rel="stylesheet">
<link href="https://netdna.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/jQuery-QueryBuilder/dist/css/query-builder.default.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/jQuery-QueryBuilder@2.5.2/dist/js/query-builder.standalone.js"></script>

<div id="builder" class="query-builder form-inline"><div id="builder_group_0" class="rules-group-container">   <div class="rules-group-header">     <div class="btn-group pull-right group-actions">       <button type="button" class="btn btn-xs btn-success" data-add="rule">         <i class="glyphicon glyphicon-plus"></i> Add rule       </button>                <button type="button" class="btn btn-xs btn-success" data-add="group">           <i class="glyphicon glyphicon-plus-sign"></i> Add group         </button>                   </div>     <div class="btn-group group-conditions">                <label class="btn btn-xs btn-primary active">           <input type="radio" name="builder_group_0_cond" value="AND"> AND         </label>                <label class="btn btn-xs btn-primary">           <input type="radio" name="builder_group_0_cond" value="OR"> OR         </label>            </div>            <div class="error-container"><i class="glyphicon glyphicon-warning-sign"></i></div>        </div>   <div class="rules-group-body">     <div class="rules-list"><div id="builder_rule_0" class="rule-container">   <div class="rule-header">     <div class="btn-group pull-right rule-actions">       <button type="button" class="btn btn-xs btn-danger" data-delete="rule">         <i class="glyphicon glyphicon-remove"></i> Delete       </button>     </div>   </div>        <div class="error-container"><i class="glyphicon glyphicon-warning-sign"></i></div>      <div class="rule-filter-container"><select class="form-control" name="builder_rule_0_filter">        <option value="-1">------</option>                <option value="name">Name</option>             <option value="category">Category</option>             <option value="in_stock">In stock</option>             <option value="price">Price</option>             <option value="id">Identifier</option>       </select></div>   <div class="rule-operator-container"><select class="form-control " name="builder_rule_0_operator">             <option value="equal">equal</option>             <option value="not_equal">not equal</option>             <option value="in">in</option>             <option value="not_in">not in</option>             <option value="less">less</option>             <option value="less_or_equal">less or equal</option>             <option value="greater">greater</option>             <option value="greater_or_equal">greater or equal</option>             <option value="between">between</option>             <option value="not_between">not between</option>             <option value="is_null">is null</option>             <option value="is_not_null">is not null</option>       </select></div>   <div class="rule-value-container"><input class="form-control" type="number" name="builder_rule_0_value_0" step="0.01" min="0"></div> </div><div id="builder_group_1" class="rules-group-container">   <div class="rules-group-header">     <div class="btn-group pull-right group-actions">       <button type="button" class="btn btn-xs btn-success" data-add="rule">         <i class="glyphicon glyphicon-plus"></i> Add rule       </button>                <button type="button" class="btn btn-xs btn-success" data-add="group">           <i class="glyphicon glyphicon-plus-sign"></i> Add group         </button>                       <button type="button" class="btn btn-xs btn-danger" data-delete="group">           <i class="glyphicon glyphicon-remove"></i> Delete         </button>            </div>     <div class="btn-group group-conditions">                <label class="btn btn-xs btn-primary">           <input type="radio" name="builder_group_1_cond" value="AND"> AND         </label>                <label class="btn btn-xs btn-primary active">           <input type="radio" name="builder_group_1_cond" value="OR"> OR         </label>            </div>            <div class="error-container"><i class="glyphicon glyphicon-warning-sign"></i></div>        </div>   <div class="rules-group-body">     <div class="rules-list"><div id="builder_rule_1" class="rule-container">   <div class="rule-header">     <div class="btn-group pull-right rule-actions">       <button type="button" class="btn btn-xs btn-danger" data-delete="rule">         <i class="glyphicon glyphicon-remove"></i> Delete       </button>     </div>   </div>        <div class="error-container"><i class="glyphicon glyphicon-warning-sign"></i></div>      <div class="rule-filter-container"><select class="form-control" name="builder_rule_1_filter">        <option value="-1">------</option>                <option value="name">Name</option>             <option value="category">Category</option>             <option value="in_stock">In stock</option>             <option value="price">Price</option>             <option value="id">Identifier</option>       </select></div>   <div class="rule-operator-container"><select class="form-control " name="builder_rule_1_operator">             <option value="equal">equal</option>             <option value="not_equal">not equal</option>             <option value="in">in</option>             <option value="not_in">not in</option>             <option value="is_null">is null</option>             <option value="is_not_null">is not null</option>       </select></div>   <div class="rule-value-container"><select class="form-control" name="builder_rule_1_value_0">                <option value="1">Books</option>             <option value="2">Movies</option>             <option value="3">Music</option>             <option value="4">Tools</option>             <option value="5">Goodies</option>             <option value="6">Clothes</option>       </select></div> </div><div id="builder_rule_2" class="rule-container">   <div class="rule-header">     <div class="btn-group pull-right rule-actions">       <button type="button" class="btn btn-xs btn-danger" data-delete="rule">         <i class="glyphicon glyphicon-remove"></i> Delete       </button>     </div>   </div>        <div class="error-container"><i class="glyphicon glyphicon-warning-sign"></i></div>      <div class="rule-filter-container"><select class="form-control" name="builder_rule_2_filter">        <option value="-1">------</option>                <option value="name">Name</option>             <option value="category">Category</option>             <option value="in_stock">In stock</option>             <option value="price">Price</option>             <option value="id">Identifier</option>       </select></div>   <div class="rule-operator-container"><select class="form-control " name="builder_rule_2_operator">             <option value="equal">equal</option>             <option value="not_equal">not equal</option>             <option value="in">in</option>             <option value="not_in">not in</option>             <option value="is_null">is null</option>             <option value="is_not_null">is not null</option>       </select></div>   <div class="rule-value-container"><select class="form-control" name="builder_rule_2_value_0">                <option value="1">Books</option>             <option value="2">Movies</option>             <option value="3">Music</option>             <option value="4">Tools</option>             <option value="5">Goodies</option>             <option value="6">Clothes</option>       </select></div> </div></div>   </div> </div></div>   </div> </div></div>
<button class="btn btn-success" id="btn-set">Set Rules</button>
<button class="btn btn-primary" id="btn-get">Get Rules</button>
<button class="btn btn-warning" id="btn-reset">Reset</button>
    <script type="text/javascript">
        var rules_basic = {
  condition: 'AND',
  rules: [{
    id: 'price',
    operator: 'less',
    value: 10.25
  }, {
    condition: 'OR',
    rules: [{
      id: 'category',
      operator: 'equal',
      value: 2
    }, {
      id: 'category',
      operator: 'equal',
      value: 1
    }]
  }]
};

$('#builder').queryBuilder({
 // plugins: ['bt-tooltip-errors'], not in the code/ cdn
  filters: [{
    id: 'name',
    label: 'Name',
    type: 'string'
  }, {
    id: 'category',
    label: 'Category',
    type: 'integer',
    input: 'select',
    values: {
      1: 'Books',
      2: 'Movies',
      3: 'Music',
      4: 'Tools',
      5: 'Goodies',
      6: 'Clothes'
    },
    operators: ['equal', 'not_equal', 'in', 'not_in', 'is_null', 'is_not_null']
  }, {
    id: 'in_stock',
    label: 'In stock',
    type: 'integer',
    input: 'radio',
    values: {
      1: 'Yes',
      0: 'No'
    },
    operators: ['equal']
  }, {
    id: 'price',
    label: 'Price',
    type: 'double',
    validation: {
      min: 0,
      step: 0.01
    }
  }, {
    id: 'id',
    label: 'Identifier',
    type: 'string',
    placeholder: '____-____-____',
    operators: ['equal', 'not_equal'],
    validation: {
      format: /^.{4}-.{4}-.{4}$/
    }
  }],
  rules: rules_basic
});


$('#btn-get').on('click', function() {
  var result = $('#builder').queryBuilder('getRules');
  if (!$.isEmptyObject(result)) {
    alert(JSON.stringify(result, null, 2));
  } else {
 //   console.log("invalid object :");
  }
 // console.log(result);
});

$('#btn-reset').on('click', function() {
  $('#builder').queryBuilder('reset');
});

$('#btn-set').on('click', function() {
  //$('#builder').queryBuilder('setRules', rules_basic);
  var result = $('#builder').queryBuilder('getRules');
  if (!$.isEmptyObject(result)) {
    rules_basic = result;
  }
});

//When rules changed :
$('#builder').on('getRules.queryBuilder.filter', function(e) {
  //$log.info(e.value);
});
    </script>

</html>